<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <title>G√©n√©rateur de Prompts Marketing</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        :root {
            --primary: #6366f1;
            --success: #10b981;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --text-light: #64748b;
            --border: #e2e8f0;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f1f5f9;
            color: var(--text);
            line-height: 1.5;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }
        .container { width: 100%; max-width: 500px; background: var(--card); min-height: 100vh; position: relative; display: flex; flex-direction: column; }

        /* √âcrans */
        .screen { display: none; padding: 2rem 1.5rem; flex-grow: 1; flex-direction: column; }
        .screen.active { display: flex; }

        /* √âcran d'accueil */
        #welcomeScreen { 
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%); 
            color: white; text-align: center; justify-content: center; 
        }
        .logo-large { font-size: 5rem; margin-bottom: 1.5rem; }
        .welcome-title { font-size: 2rem; font-weight: 800; margin-bottom: 1rem; line-height: 1.2; }
        .welcome-desc { font-size: 1.1rem; opacity: 0.9; margin-bottom: 2rem; }

        /* Navigation & Progression */
        .progress-bar { height: 6px; background: #e2e8f0; position: sticky; top: 0; display: flex; }
        .progress-fill { height: 100%; background: var(--primary); transition: width 0.3s ease; width: 0%; }

        /* Typographie & Champs */
        .question-label { font-size: 1.25rem; font-weight: 700; margin-bottom: 1.5rem; color: var(--text); }
        input, textarea, select {
            width: 100%; padding: 1.1rem; border: 2px solid var(--border); border-radius: 12px; 
            font-size: 16px; margin-bottom: 1rem; background: #f8fafc;
        }
        input:focus { border-color: var(--primary); outline: none; background: #fff; }

        /* Boutons */
        .btn { 
            padding: 1.1rem; border: none; border-radius: 14px; font-weight: 700; font-size: 1rem; cursor: pointer;
            transition: all 0.2s; text-align: center; text-decoration: none;
        }
        .btn-primary { background: var(--primary); color: white; box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3); }
        .btn-outline { background: transparent; border: 2px solid var(--border); color: var(--text-light); margin-top: 1rem; }
        .btn:disabled { background: #cbd5e1; box-shadow: none; cursor: not-allowed; }

        /* Grille d'outils */
        .tool-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; }
        .tool-card {
            padding: 1.25rem; border: 2px solid var(--border); border-radius: 16px; 
            font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 1rem;
        }
        .tool-card.selected { border-color: var(--primary); background: #f5f3ff; color: var(--primary); }
        .tool-card span { font-size: 1.5rem; }

        /* R√©sultat */
        #promptOutput { 
            background: #1e293b; color: #f1f5f9; padding: 1rem; border-radius: 12px; 
            font-family: monospace; font-size: 0.85rem; overflow-y: auto; margin: 1rem 0; flex-grow: 1;
        }
        .ai-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 0.5rem; margin-bottom: 1rem; }
        .ai-link { padding: 0.8rem; border-radius: 10px; color: white; text-align: center; font-weight: 600; text-decoration: none; font-size: 0.8rem; }
    </style>
</head>
<body>

<div class="container">
    <div class="progress-bar" id="progressBar"><div class="progress-fill" id="progressFill"></div></div>

    <div class="screen active" id="welcomeScreen">
        <div class="logo-large">üöÄ</div>
        <h1 class="welcome-title">G√©n√©rateur de Prompts Marketing</h1>
        <p class="welcome-desc">Cr√©ez des contenus percutants en quelques √©tapes intuitives.</p>
        <button class="btn btn-primary" onclick="startApp()">Lancer l'outil ‚ú®</button>
        <a href="https://shop.beacons.ai/brilleetvibre/9cff3d0a-5313-4c90-9db5-7e6d5ec54309" class="btn btn-outline" style="color:white; border-color:white; opacity:0.8" target="_blank">D√©couvrir Code Libert√©</a>
    </div>

    <div class="screen" id="stepAvatar">
        <label class="question-label">1. Qui est ton client id√©al ?</label>
        <textarea id="avatarClient" placeholder="Ex: Femmes entrepreneurs de 30-45 ans qui veulent se lancer..." rows="5" oninput="validateStep('stepAvatar')"></textarea>
        <button class="btn btn-primary" id="btnStepAvatar" onclick="nextScreen('stepOffer')" disabled>Suivant</button>
    </div>

    <div class="screen" id="stepOffer">
        <label class="question-label">2. Que vends-tu pr√©cis√©ment ?</label>
        <select id="offerType" onchange="validateStep('stepOffer')">
            <option value="">S√©lectionne ton type d'offre</option>
            <option value="une Formation en ligne">Formation en ligne</option>
            <option value="un Coaching">Coaching</option>
            <option value="une Prestation">Prestation de service</option>
            <option value="autre">Autre</option>
        </select>
        <button class="btn btn-primary" id="btnStepOffer" onclick="nextScreen('stepNiche')" disabled>Suivant</button>
        <button class="btn btn-outline" onclick="prevScreen('stepAvatar')">Retour</button>
    </div>

    <div class="screen" id="stepNiche">
        <label class="question-label">3. Quelle est ta th√©matique / niche ?</label>
        <input type="text" id="userNiche" placeholder="Ex: Yoga, Marketing, Bien-√™tre..." oninput="validateStep('stepNiche')">
        <button class="btn btn-primary" id="btnStepNiche" onclick="nextScreen('stepToolSelect')" disabled>Suivant</button>
        <button class="btn btn-outline" onclick="prevScreen('stepOffer')">Retour</button>
    </div>

    <div class="screen" id="stepToolSelect">
        <label class="question-label">4. Quel outil souhaites-tu utiliser ?</label>
        <div class="tool-grid">
            <div class="tool-card" onclick="pickTool('tab-bio')"><span>üìù</span> Auditer ma Bio</div>
            <div class="tool-card" onclick="pickTool('tab-hooks')"><span>üé£</span> Cr√©er des Hooks</div>
            <div class="tool-card" onclick="pickTool('tab-caption')"><span>‚úçÔ∏è</span> Cr√©er des L√©gendes</div>
            <div class="tool-card" onclick="pickTool('tab-reels')"><span>üé•</span> Id√©es Reels / Carrousel</div>
        </div>
        <button class="btn btn-outline" onclick="prevScreen('stepNiche')" style="margin-top: 2rem">Retour</button>
    </div>

    <div class="screen" id="stepConfig">
        <div id="tab-bio" class="tool-config" style="display:none">
            <label class="question-label">Ma Bio Actuelle</label>
            <textarea id="bio-current" placeholder="Colle ta bio ici..." rows="4"></textarea>
        </div>

        <div id="tab-caption" class="tool-config" style="display:none">
            <label class="question-label">D√©tails de la l√©gende</label>
            <input type="text" id="cap-hook-planned" placeholder="Phrase sur ta vid√©o">
            <select id="cap-tone">
                <option value="Inspirant">Inspirant</option>
                <option value="Expert / √âducatif">Expert / √âducatif</option>
                <option value="Humoristique">Humoristique</option>
                <option value="Direct / Cash">Direct / Cash</option>
            </select>
            <textarea id="cap-infos" placeholder="Infos cl√©s / Anecdotes..." rows="3"></textarea>
            <input type="text" id="cap-cta" placeholder="CTA (ex: Commente GO)">
        </div>

        <div id="tab-hooks" class="tool-config" style="display:none">
            <label class="question-label">Param√®tres Hooks</label>
            <input type="text" id="hook-topic" placeholder="Sujet de l'accroche">
            <select id="hook-angle">
                <option value="Curiosit√©">Curiosit√©</option>
                <option value="Urgence / FOMO">Urgence / FOMO</option>
                <option value="Casser un mythe">Contre-intuitif</option>
            </select>
        </div>

        <div id="tab-reels" class="tool-config" style="display:none">
            <label class="question-label">Param√®tres Strat√©gie</label>
            <input type="text" id="reel-theme" placeholder="Th√©matique globale">
            <select id="reel-format">
                <option value="Reels">Reels</option>
                <option value="Carrousel">Carrousel</option>
            </select>
            <select id="reel-goal">
                <option value="Viralit√©">Viralit√©</option>
                <option value="Autorit√©">Autorit√©</option>
                <option value="Conversion">Conversion</option>
            </select>
        </div>

        <button class="btn btn-primary" onclick="generateNow()" style="margin-top: 1rem">G√©n√©rer mon Prompt ‚ú®</button>
        <button class="btn btn-outline" onclick="prevScreen('stepToolSelect')">Changer d'outil</button>
    </div>

    <div class="screen" id="stepResult">
        <label class="question-label">Ton Prompt est pr√™t !</label>
        <div class="ai-grid" id="aiButtons"></div>
        <button class="btn btn-primary" onclick="copyToClipboard()" style="background:var(--success)">üìã Copier le Prompt</button>
        <div id="promptOutput"></div>
        <button class="btn btn-outline" onclick="location.reload()">‚Ü© Recommencer de z√©ro</button>
    </div>
</div>

<script>
    let currentTool = '';
    const screens = ['welcomeScreen', 'stepAvatar', 'stepOffer', 'stepNiche', 'stepToolSelect', 'stepConfig', 'stepResult'];

    function updateProgress(screenId) {
        const idx = screens.indexOf(screenId);
        const percent = (idx / (screens.length - 1)) * 100;
        document.getElementById('progressFill').style.width = percent + '%';
        document.getElementById('progressBar').style.display = screenId === 'welcomeScreen' ? 'none' : 'flex';
    }

    function showScreen(id) {
        document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
        document.getElementById(id).classList.add('active');
        updateProgress(id);
        window.scrollTo(0,0);
    }

    function startApp() { showScreen('stepAvatar'); }
    function nextScreen(id) { showScreen(id); }
    function prevScreen(id) { showScreen(id); }

    function validateStep(stepId) {
        let isValid = false;
        if (stepId === 'stepAvatar') isValid = document.getElementById('avatarClient').value.trim().length > 5;
        if (stepId === 'stepOffer') isValid = document.getElementById('offerType').value !== "";
        if (stepId === 'stepNiche') isValid = document.getElementById('userNiche').value.trim().length > 2;
        
        const btnId = 'btn' + stepId.charAt(0).toUpperCase() + stepId.slice(1);
        document.getElementById(btnId).disabled = !isValid;
    }

    function pickTool(toolId) {
        currentTool = toolId;
        document.querySelectorAll('.tool-config').forEach(c => c.style.display = 'none');
        document.getElementById(toolId).style.display = 'block';
        nextScreen('stepConfig');
    }

    function generateNow() {
        const userData = {
            avatar: document.getElementById('avatarClient').value,
            offer: document.getElementById('offerType').value,
            niche: document.getElementById('userNiche').value
        };

        let prompt = "";

        if (currentTool === 'tab-bio') {
            const current = document.getElementById('bio-current').value;
            prompt = `PROMPT AUDIT DE TA BIO
√Ä COPIER / COLLER avec un screen de ta bio dans ChatGPT :
Checklist pour l'audit
Nom - Optimisation SEO, Niche, Activit√© : Le nom est crucial pour la d√©couvrabilit√©.
Premi√®re ligne (D√©claration d'aide) : Doit communiquer qui ils aident, quel probl√®me ils r√©solvent.
---
MA BIO ACTUELLE : ${current ? `"${current}"` : 'Je n\'ai pas encore de bio.'}
MON PROFIL :
- Client id√©al : ${userData.avatar}
- Niche : ${userData.niche}
- Offre : ${userData.offer}
CONSIGNES :
1. LIMITE ABSOLUE : 150 caract√®res maximum
2. Propose 3 variantes optimis√©es
3. Chaque variante doit convertir les visiteurs en abonn√©s puis en clients
4. Inclure un hook puissant dans la premi√®re ligne
5. Rendre l'offre irr√©sistible et claire`;
        } 
        else if (currentTool === 'tab-caption') {
            const hookPlanned = document.getElementById('cap-hook-planned').value;
            prompt = `R√©dige des l√©gendes Instagram personnalis√©es pour des reels, align√©es √† ma voix, mon offre et mes objectifs d‚Äôentrepreneur. √Ä chaque nouvelle demande, commence obligatoirement par une checklist interactive pour recueillir ces informations pr√©cises :

Niche/secteur d‚Äôactivit√© : ${userData.niche}
Cible id√©ale (public vis√©) : ${userData.avatar}
Hook (Accroche vid√©o) : ${hookPlanned || '√Ä d√©finir'}
Ton souhait√© : ${document.getElementById('cap-tone').value}
Infos cl√©s √† int√©grer (faits, chiffres, anecdotes‚Ä¶) : ${document.getElementById('cap-infos').value}
Action recherch√©e √† la fin (objectif du CTA, ex : contact, abonnement, commentaire‚Ä¶) : ${document.getElementById('cap-cta').value}

Si une information manque ou reste vague, pose imm√©diatement une question claire, cibl√©e, et pr√©cise pour la compl√©ter avant de commencer la r√©daction.

Structure impos√©e de la l√©gende :
Accroche : Une phrase courte, puissante et captivante pour inciter √† lire la suite. Elle doit parfaitement faire la transition avec mon Hook vid√©o : "${hookPlanned}".
Corps : Plusieurs paragraphes d√©velopp√©s, apportant profondeur, contextes ou conseils. Texte facile √† lire, phrases courtes, apportant une vraie valeur ajout√©e √† la cible (jamais de s√©parateurs comme barres ou autres symboles externes).
Conclusion : Un appel √† l‚Äôaction (CTA) personnalis√©, fluide, adapt√© √† l‚Äôobjectif business donn√©.

Contraintes :
R√©dige en fran√ßais courant adapt√© √† Instagram.
Longueur finale entre 250 et 400 mots (selon contexte).
L√©gende finale en texte brut ‚Äî pas de code, pas de balises, pas de symboles inutiles.
Assure la coh√©rence entre la cible id√©ale, le sujet, le ton, l‚Äôoffre, la cible et l‚Äôobjectif CTA dans toute la l√©gende.

D√©marche avant g√©n√©ration :
Encourage syst√©matiquement la r√©flexion √©tape-par-√©tape (raisonnement avant r√©daction).
Collecte toutes les informations via la checklist AVANT d‚Äô√©crire la l√©gende.
V√©rifie la coh√©rence entre chaque information recueillie avant de commencer la r√©daction.

Format attendu :
Explique moi que tu vas me poser une s√©rie de questions pour affiner la l√©gende
Affiche la checklist et compl√®te-la avec les r√©ponses de l‚Äôutilisateur.
Pose imm√©diatement toute question manquante ou incompl√®te AVANT toute r√©daction.
G√©n√®re ensuite UNIQUEMENT la l√©gende, en respectant la structure et toutes les contraintes list√©es ci-dessus, sur une longueur comprise entre 150 et 300 mots.
Donne le texte final directement pr√™t √† √™tre copi√©-coll√© sur Instagram (pas de balises ni de mise en forme).

Rappel : R√©dige d‚Äôabord la checklist, v√©rifie qu‚Äôaucune information ne manque, puis construis la l√©gende selon la structure demand√©e, en veillant √† la pertinence du ton, du CTA, de l‚Äôoffre (‚Äú${userData.offer}‚Äù) et pas d'emojis. Longueur du texte : 150 √† 300 mots, texte brut pr√™t pour Instagram.`;
        }
        else if (currentTool === 'tab-hooks') {
            const topic = document.getElementById('hook-topic').value;
            const angle = document.getElementById('hook-angle').value;
            prompt = `PROMPT ULTIME HOOKS :
Capter l'attention en 1 seconde. G√©n√©rer curiosit√© ou urgence.
Sujet : "${topic}", Angle : ${angle}.
Niche : ${userData.niche}, Avatar : ${userData.avatar}.
CONSIGNES : G√©n√®re 10 hooks ultra-percutants adapt√©s aux douleurs de mon avatar. Varie les styles (Question, Secret, Mythe). Chaque hook doit donner envie de cliquer.`;
        }
        else if (currentTool === 'tab-reels') {
            const theme = document.getElementById('reel-theme').value;
            const format = document.getElementById('reel-format').value;
            const goal = document.getElementById('reel-goal').value;
            prompt = `Tu es un expert en strat√©gie de contenu viral sur Instagram et LinkedIn.
Voici mon profil :
- Ma niche : ${userData.niche}
- Mon client id√©al : ${userData.avatar}
- Mon offre : ${userData.offer}

MISSION :
G√©n√®re 5 id√©es de concepts de ${format} sur la th√©matique : "${theme}".
L'objectif principal est : ${goal}.

POUR CHAQUE ID√âE, FOURNIS :
1. Un titre accrocheur pour le concept.
2. Le Hook (Accroche visuelle ou texte) √† mettre en gros sur la vid√©o ou la 1√®re slide.
3. Le d√©roulement rapide (ex: Slide 1, 2, 3 ou Plan A, B, C).
4. Pourquoi ce concept va fonctionner pour mon avatar (${userData.avatar}).

CONSIGNES :
- Propose des concepts vari√©s (√©ducatif, storytelling, divertissement).
- Utilise un ton adapt√© √† ma niche.
- Sois sp√©cifique et actionnable imm√©diatement.`;
        }

        document.getElementById('promptOutput').innerText = prompt;
        createAIButtons(prompt);
        nextScreen('stepResult');
    }

    function createAIButtons(p) {
        const enc = encodeURIComponent(p);
        const container = document.getElementById('aiButtons');
        container.innerHTML = [
            {n:'ChatGPT', u:`https://chat.openai.com/?q=${enc}`, b:'#10a37f'},
            {n:'Claude', u:`https://claude.ai/new?q=${enc}`, b:'#d97757'},
            {n:'Gemini', u:`https://gemini.google.com/app?q=${enc}`, b:'#4285f4'},
            {n:'Copilot', u:`https://copilot.microsoft.com/?q=${enc}`, b:'#0078d4'}
        ].map(l => `<a href="${l.u}" class="ai-link" style="background:${l.b}" target="_blank">${l.n}</a>`).join('');
    }

    function copyToClipboard() {
        navigator.clipboard.writeText(document.getElementById('promptOutput').innerText);
        alert("Prompt copi√© !");
    }
</script>
</body>
</html>
